{"ast":null,"code":"var _jsxFileName = \"/Users/laptop/Desktop/programming/nodechat/client/src/component/UsersTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Icon, InlineIcon } from \"@iconify/react\";\nimport more2Fill from \"@iconify-icons/ri/more-2-fill\";\nimport shareLine from \"@iconify-icons/ri/share-line\";\nimport forbidLine from \"@iconify-icons/ri/forbid-line\";\nimport deleteBinLine from \"@iconify-icons/ri/delete-bin-line\";\nimport searchLine from \"@iconify-icons/ri/search-line\";\nimport userAddLine from \"@iconify-icons/ri/user-add-line\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { chatData, showMessages } from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport AddUserModal from \"./AddUserModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UsersTab(props) {\n  _s();\n\n  const [showModal, setShowModal] = useState(false);\n  const [contactOptions, setContactOptions] = useState(false);\n  const node = useRef(null);\n  useEffect(() => {\n    const closeDropDown = e => {\n      if (node.current !== null && !node.current.contains(e.target)) {\n        setContactOptions(false);\n      }\n    };\n\n    if (contactOptions) {\n      document.addEventListener(\"click\", closeDropDown);\n    }\n\n    return () => document.removeEventListener(\"click\", closeDropDown);\n  }, [contactOptions]);\n\n  const openModal = () => {\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const dispatch = useDispatch();\n  const friends = useSelector(state => state.friends); //   sort alphabetically\n\n  const contacts = friends.friends.sort((a, b) => a.friendName.localeCompare(b.friendName));\n\n  const openConversation = userId => {\n    axios.get(\"http://localhost:8000/chats?userId=\" + userId).then(function (response) {\n      // handle success\n      dispatch(showMessages(response.data.info.messages));\n      dispatch(chatData(response.data.info));\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  };\n\n  const contactList = contacts.map((res, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-unstyled contact-list\",\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-size-14 m-0\",\n              onClick: () => openConversation(res.friendUserId),\n              children: res.friendName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"text-muted dropdown-toggle\",\n              \"data-bs-toggle\": \"dropdown\",\n              \"aria-haspopup\": \"true\",\n              \"aria-expanded\": \"false\",\n              onClick: () => setContactOptions(!contactOptions),\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: more2Fill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `dropdown-menu dropdown-menu-end ${contactOptions ? `show` : false}`,\n              style: {\n                left: \"-150px\"\n              },\n              ref: node,\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: [\"Share\", \" \", /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: shareLine,\n                  className: \" float-end text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: [\"Block\", \" \", /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: forbidLine,\n                  className: \" float-end text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: [\"Remove\", \" \", /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: deleteBinLine,\n                  className: \" float-end text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-chat-nav float-end\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-bs-toggle\": \"tooltip\",\n            \"data-bs-placement\": \"bottom\",\n            title: true,\n            \"data-bs-original-title\": \"Add Contact\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-link text-decoration-none text-muted font-size-18 py-0\",\n              \"data-bs-toggle\": \"modal\",\n              \"data-bs-target\": \"#addContact-exampleModal\",\n              onClick: openModal,\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: userAddLine\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-4\",\n          children: \"Contacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), showModal ? /*#__PURE__*/_jsxDEV(AddUserModal, {\n          closeModal: closeModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this) : false, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box chat-search-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group bg-light  input-group-lg rounded-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-link text-decoration-none text-muted pe-1 ps-3\",\n                type: \"button\",\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: searchLine,\n                  className: \" search-icon font-size-18\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control bg-light\",\n              placeholder: \"Search users..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 chat-message-list chat-group-list\",\n        \"data-simplebar\": \"init\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"simplebar-wrapper\",\n          style: {\n            margin: \"-24px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-height-auto-observer-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"simplebar-height-auto-observer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-mask\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"simplebar-offset\",\n              style: {\n                right: \"-20px\",\n                bottom: \"0px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"simplebar-content-wrapper\",\n                style: {\n                  height: \"100%\",\n                  paddingRight: \"20px\",\n                  paddingBottom: \"0px\",\n                  overflow: \"hidden scroll\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"simplebar-content\",\n                  style: {\n                    padding: \"24px\"\n                  },\n                  children: contactList\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-placeholder\",\n            style: {\n              width: \"auto\",\n              height: \"1584px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"simplebar-track simplebar-horizontal\",\n          style: {\n            visibility: \"hidden\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-scrollbar\",\n            style: {\n              transform: \"translate3d(0px, 0px, 0px)\",\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"simplebar-track simplebar-vertical\",\n          style: {\n            visibility: \"visible\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-scrollbar\",\n            style: {\n              transform: \"translate3d(0px, 0px, 0px)\",\n              display: \"block\",\n              height: \"416px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(UsersTab, \"zOitpqJFiRc6RzDuWQDNIgJvCtw=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = UsersTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersTab\");","map":{"version":3,"sources":["/Users/laptop/Desktop/programming/nodechat/client/src/component/UsersTab.js"],"names":["React","useState","useRef","useEffect","Icon","InlineIcon","more2Fill","shareLine","forbidLine","deleteBinLine","searchLine","userAddLine","useDispatch","useSelector","chatData","showMessages","axios","AddUserModal","UsersTab","props","showModal","setShowModal","contactOptions","setContactOptions","node","closeDropDown","e","current","contains","target","document","addEventListener","removeEventListener","openModal","closeModal","dispatch","friends","state","contacts","sort","a","b","friendName","localeCompare","openConversation","userId","get","then","response","data","info","messages","catch","error","console","log","contactList","map","res","key","friendUserId","left","margin","right","bottom","height","paddingRight","paddingBottom","overflow","padding","width","visibility","transform","display"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { Icon, InlineIcon } from \"@iconify/react\";\nimport more2Fill from \"@iconify-icons/ri/more-2-fill\";\nimport shareLine from \"@iconify-icons/ri/share-line\";\nimport forbidLine from \"@iconify-icons/ri/forbid-line\";\nimport deleteBinLine from \"@iconify-icons/ri/delete-bin-line\";\nimport searchLine from \"@iconify-icons/ri/search-line\";\nimport userAddLine from \"@iconify-icons/ri/user-add-line\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { chatData, showMessages } from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport AddUserModal from \"./AddUserModal\";\n\nexport default function UsersTab(props) {\n    const [showModal, setShowModal] = useState(false);\n    const [contactOptions, setContactOptions] = useState(false);\n    \n    const node = useRef(null);\n    useEffect(() => {\n        const closeDropDown = (e) => {\n            if (node.current !== null && !node.current.contains(e.target)) {\n                setContactOptions(false);\n            }\n        };\n        if (contactOptions) {\n            document.addEventListener(\"click\", closeDropDown);\n        }\n        return () => document.removeEventListener(\"click\", closeDropDown);\n    }, [contactOptions]);\n\n    const openModal = () => {\n        setShowModal(true);\n    };\n\n    const closeModal = () => {\n        setShowModal(false);\n    };\n\n    const dispatch = useDispatch();\n    const friends = useSelector((state) => state.friends);\n\n    //   sort alphabetically\n    const contacts = friends.friends.sort((a, b) =>\n        a.friendName.localeCompare(b.friendName)\n    );\n    const openConversation = (userId) => {\n        axios\n            .get(\"http://localhost:8000/chats?userId=\" + userId)\n            .then(function (response) {\n                // handle success\n                dispatch(showMessages(response.data.info.messages));\n                dispatch(chatData(response.data.info));\n            })\n            .catch(function (error) {\n                // handle error\n                console.log(error);\n            });\n    };\n    const contactList = contacts.map((res, key) => (\n        <div key={key}>\n            {/* <div className=\"p-3 fw-bold text-primary\">A</div> */}\n            <ul className=\"list-unstyled contact-list\">\n                <li>\n                    <div className=\"d-flex align-items-center\">\n                        <div className=\"flex-1\">\n                            <h5\n                                className=\"font-size-14 m-0\"\n                                onClick={() =>\n                                    openConversation(res.friendUserId)\n                                }\n                            >\n                                {res.friendName}\n                            </h5>\n                        </div>\n                        <div className=\"dropdown\">\n                            <a\n                                href=\"#\"\n                                className=\"text-muted dropdown-toggle\"\n                                data-bs-toggle=\"dropdown\"\n                                aria-haspopup=\"true\"\n                                aria-expanded=\"false\"\n                                onClick={() =>\n                                    setContactOptions(!contactOptions)\n                                }\n                            >\n                                <Icon icon={more2Fill} />\n                            </a>\n                            <div\n                                className={`dropdown-menu dropdown-menu-end ${\n                                    contactOptions ? `show` : false\n                                }`}\n                                style={{ left: \"-150px\" }}\n                                ref={node}\n                            >\n                                <a className=\"dropdown-item\" href=\"#\">\n                                    Share{\" \"}\n                                    <Icon\n                                        icon={shareLine}\n                                        className=\" float-end text-muted\"\n                                    />\n                                </a>\n                                <a className=\"dropdown-item\" href=\"#\">\n                                    Block{\" \"}\n                                    <Icon\n                                        icon={forbidLine}\n                                        className=\" float-end text-muted\"\n                                    />\n                                </a>\n                                <a className=\"dropdown-item\" href=\"#\">\n                                    Remove{\" \"}\n                                    <Icon\n                                        icon={deleteBinLine}\n                                        className=\" float-end text-muted\"\n                                    />\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    ));\n    return (\n        <>\n            {/* Start Contact content */}\n            <div>\n                <div className=\"p-4\">\n                    <div className=\"user-chat-nav float-end\">\n                        <div\n                            data-bs-toggle=\"tooltip\"\n                            data-bs-placement=\"bottom\"\n                            title\n                            data-bs-original-title=\"Add Contact\"\n                        >\n                            {/* Button trigger modal */}\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-link text-decoration-none text-muted font-size-18 py-0\"\n                                data-bs-toggle=\"modal\"\n                                data-bs-target=\"#addContact-exampleModal\"\n                                onClick={openModal}\n                            >\n                                <Icon icon={userAddLine} />\n                            </button>\n                        </div>\n                    </div>\n                    <h4 className=\"mb-4\">Contacts</h4>\n                    {/* Start Add contact Modal */}\n                    {showModal ? (\n                        <AddUserModal closeModal={closeModal} />\n                    ) : (\n                        false\n                    )}\n                    {/* End Add contact Modal */}\n                    <div className=\"search-box chat-search-box\">\n                        <div className=\"input-group bg-light  input-group-lg rounded-3\">\n                            <div className=\"input-group-prepend\">\n                                <button\n                                    className=\"btn btn-link text-decoration-none text-muted pe-1 ps-3\"\n                                    type=\"button\"\n                                >\n                                    <Icon\n                                        icon={searchLine}\n                                        className=\" search-icon font-size-18\"\n                                    />\n                                </button>\n                            </div>\n                            <input\n                                type=\"text\"\n                                className=\"form-control bg-light\"\n                                placeholder=\"Search users..\"\n                            />\n                        </div>\n                    </div>\n                    {/* End search-box */}\n                </div>\n                {/* end p-4 */}\n                {/* Start contact lists */}\n                <div\n                    className=\"p-4 chat-message-list chat-group-list\"\n                    data-simplebar=\"init\"\n                >\n                    <div\n                        className=\"simplebar-wrapper\"\n                        style={{ margin: \"-24px\" }}\n                    >\n                        <div className=\"simplebar-height-auto-observer-wrapper\">\n                            <div className=\"simplebar-height-auto-observer\" />\n                        </div>\n                        <div className=\"simplebar-mask\">\n                            <div\n                                className=\"simplebar-offset\"\n                                style={{ right: \"-20px\", bottom: \"0px\" }}\n                            >\n                                <div\n                                    className=\"simplebar-content-wrapper\"\n                                    style={{\n                                        height: \"100%\",\n                                        paddingRight: \"20px\",\n                                        paddingBottom: \"0px\",\n                                        overflow: \"hidden scroll\",\n                                    }}\n                                >\n                                    <div\n                                        className=\"simplebar-content\"\n                                        style={{ padding: \"24px\" }}\n                                    >\n                                        {contactList}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            className=\"simplebar-placeholder\"\n                            style={{ width: \"auto\", height: \"1584px\" }}\n                        />\n                    </div>\n                    <div\n                        className=\"simplebar-track simplebar-horizontal\"\n                        style={{ visibility: \"hidden\" }}\n                    >\n                        <div\n                            className=\"simplebar-scrollbar\"\n                            style={{\n                                transform: \"translate3d(0px, 0px, 0px)\",\n                                display: \"none\",\n                            }}\n                        />\n                    </div>\n                    <div\n                        className=\"simplebar-track simplebar-vertical\"\n                        style={{ visibility: \"visible\" }}\n                    >\n                        <div\n                            className=\"simplebar-scrollbar\"\n                            style={{\n                                transform: \"translate3d(0px, 0px, 0px)\",\n                                display: \"block\",\n                                height: \"416px\",\n                            }}\n                        />\n                    </div>\n                </div>\n                {/* end contact lists */}\n            </div>\n            {/* Start Contact content */}\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}