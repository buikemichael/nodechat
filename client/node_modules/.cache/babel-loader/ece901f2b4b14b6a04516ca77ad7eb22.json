{"ast":null,"code":"var _jsxFileName = \"/Users/laptop/Desktop/programming/nodechat/client/src/component/UsersTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Icon, InlineIcon } from \"@iconify/react\";\nimport more2Fill from \"@iconify-icons/ri/more-2-fill\";\nimport shareLine from \"@iconify-icons/ri/share-line\";\nimport forbidLine from \"@iconify-icons/ri/forbid-line\";\nimport deleteBinLine from \"@iconify-icons/ri/delete-bin-line\";\nimport searchLine from \"@iconify-icons/ri/search-line\";\nimport userAddLine from \"@iconify-icons/ri/user-add-line\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { chatData, showMessages } from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport AddUserModal from \"./AddUserModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UsersTab(props) {\n  _s();\n\n  const [showModal, setShowModal] = useState(false);\n  const [contactOptions, setContactOptions] = useState(false);\n  const node = useRef(null);\n  console.log(contactOptions);\n  useEffect(() => {\n    const closeDropDown = e => {\n      console.log(e);\n\n      if (node.current !== null && node.current.contains(e.target)) {\n        setContactOptions(false);\n      }\n    };\n\n    if (contactOptions) {\n      document.addEventListener(\"click\", closeDropDown);\n    } // return document.removeEventListener(\"click\", closeDropDown);\n\n  }, [contactOptions]);\n\n  const openModal = () => {\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.userData); //   sort alphabetically\n\n  const contacts = user.userData.friends.sort((a, b) => a.friendName.localeCompare(b.friendName));\n\n  const openConversation = userId => {\n    axios.get(\"http://localhost:8000/chats?userId=\" + userId).then(function (response) {\n      // handle success\n      dispatch(showMessages(response.data.info.messages));\n      dispatch(chatData(response.data.info));\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  };\n\n  const contactList = contacts.map((res, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-unstyled contact-list\",\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-size-14 m-0\",\n              onClick: () => openConversation(res.friendUserId),\n              children: res.friendName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"text-muted dropdown-toggle\",\n              \"data-bs-toggle\": \"dropdown\",\n              \"aria-haspopup\": \"true\",\n              \"aria-expanded\": \"false\",\n              onClick: () => setContactOptions(!contactOptions),\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: more2Fill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `dropdown-menu dropdown-menu-end ${contactOptions ? `show` : false}`,\n              style: {\n                left: \"-150px\"\n              },\n              ref: node,\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: [\"Share\", \" \", /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: shareLine,\n                  className: \" float-end text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: [\"Block\", \" \", /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: forbidLine,\n                  className: \" float-end text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: [\"Remove\", \" \", /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: deleteBinLine,\n                  className: \" float-end text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-chat-nav float-end\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-bs-toggle\": \"tooltip\",\n            \"data-bs-placement\": \"bottom\",\n            title: true,\n            \"data-bs-original-title\": \"Add Contact\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-link text-decoration-none text-muted font-size-18 py-0\",\n              \"data-bs-toggle\": \"modal\",\n              \"data-bs-target\": \"#addContact-exampleModal\",\n              onClick: openModal,\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: userAddLine\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-4\",\n          children: \"Contacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), showModal ? /*#__PURE__*/_jsxDEV(AddUserModal, {\n          closeModal: closeModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 24\n        }, this) : false, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box chat-search-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group bg-light  input-group-lg rounded-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-link text-decoration-none text-muted pe-1 ps-3\",\n                type: \"button\",\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: searchLine,\n                  className: \" search-icon font-size-18\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control bg-light\",\n              placeholder: \"Search users..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 chat-message-list chat-group-list\",\n        \"data-simplebar\": \"init\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"simplebar-wrapper\",\n          style: {\n            margin: \"-24px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-height-auto-observer-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"simplebar-height-auto-observer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-mask\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"simplebar-offset\",\n              style: {\n                right: \"-20px\",\n                bottom: \"0px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"simplebar-content-wrapper\",\n                style: {\n                  height: \"100%\",\n                  paddingRight: \"20px\",\n                  paddingBottom: \"0px\",\n                  overflow: \"hidden scroll\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"simplebar-content\",\n                  style: {\n                    padding: \"24px\"\n                  },\n                  children: contactList\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-placeholder\",\n            style: {\n              width: \"auto\",\n              height: \"1584px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"simplebar-track simplebar-horizontal\",\n          style: {\n            visibility: \"hidden\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-scrollbar\",\n            style: {\n              transform: \"translate3d(0px, 0px, 0px)\",\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"simplebar-track simplebar-vertical\",\n          style: {\n            visibility: \"visible\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"simplebar-scrollbar\",\n            style: {\n              transform: \"translate3d(0px, 0px, 0px)\",\n              display: \"block\",\n              height: \"416px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(UsersTab, \"jstyRnudQ7OCs0SUyZ25rs/0qrU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = UsersTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersTab\");","map":{"version":3,"sources":["/Users/laptop/Desktop/programming/nodechat/client/src/component/UsersTab.js"],"names":["React","useState","useRef","useEffect","Icon","InlineIcon","more2Fill","shareLine","forbidLine","deleteBinLine","searchLine","userAddLine","useDispatch","useSelector","chatData","showMessages","axios","AddUserModal","UsersTab","props","showModal","setShowModal","contactOptions","setContactOptions","node","console","log","closeDropDown","e","current","contains","target","document","addEventListener","openModal","closeModal","dispatch","user","state","userData","contacts","friends","sort","a","b","friendName","localeCompare","openConversation","userId","get","then","response","data","info","messages","catch","error","contactList","map","res","key","friendUserId","left","margin","right","bottom","height","paddingRight","paddingBottom","overflow","padding","width","visibility","transform","display"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { Icon, InlineIcon } from \"@iconify/react\";\nimport more2Fill from \"@iconify-icons/ri/more-2-fill\";\nimport shareLine from \"@iconify-icons/ri/share-line\";\nimport forbidLine from \"@iconify-icons/ri/forbid-line\";\nimport deleteBinLine from \"@iconify-icons/ri/delete-bin-line\";\nimport searchLine from \"@iconify-icons/ri/search-line\";\nimport userAddLine from \"@iconify-icons/ri/user-add-line\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { chatData, showMessages } from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport AddUserModal from \"./AddUserModal\";\n\nexport default function UsersTab(props) {\n  const [showModal, setShowModal] = useState(false);\n  const [contactOptions, setContactOptions] = useState(false);\n  const node = useRef(null);\n  console.log(contactOptions);\n  useEffect(() => {\n    const closeDropDown = (e) => {\n        console.log(e)\n      if (node.current !== null && node.current.contains(e.target)) {\n        setContactOptions(false);\n      }\n    };\n    if (contactOptions) {\n      document.addEventListener(\"click\", closeDropDown);\n    }\n    // return document.removeEventListener(\"click\", closeDropDown);\n  }, [contactOptions]);\n\n  const openModal = () => {\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.userData);\n\n  //   sort alphabetically\n  const contacts = user.userData.friends.sort((a, b) =>\n    a.friendName.localeCompare(b.friendName)\n  );\n  const openConversation = (userId) => {\n    axios\n      .get(\"http://localhost:8000/chats?userId=\" + userId)\n      .then(function (response) {\n        // handle success\n        dispatch(showMessages(response.data.info.messages));\n        dispatch(chatData(response.data.info));\n      })\n      .catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n  };\n  const contactList = contacts.map((res, key) => (\n    <div key={key}>\n      {/* <div className=\"p-3 fw-bold text-primary\">A</div> */}\n      <ul className=\"list-unstyled contact-list\">\n        <li>\n          <div className=\"d-flex align-items-center\">\n            <div className=\"flex-1\">\n              <h5\n                className=\"font-size-14 m-0\"\n                onClick={() => openConversation(res.friendUserId)}\n              >\n                {res.friendName}\n              </h5>\n            </div>\n            <div className=\"dropdown\">\n              <a\n                href=\"#\"\n                className=\"text-muted dropdown-toggle\"\n                data-bs-toggle=\"dropdown\"\n                aria-haspopup=\"true\"\n                aria-expanded=\"false\"\n                onClick={() => setContactOptions(!contactOptions)}\n              >\n                <Icon icon={more2Fill} />\n              </a>\n              <div\n                className={`dropdown-menu dropdown-menu-end ${\n                  contactOptions ? `show` : false\n                }`}\n                style={{ left: \"-150px\" }}\n                ref={node}\n              >\n                <a className=\"dropdown-item\" href=\"#\">\n                  Share{\" \"}\n                  <Icon icon={shareLine} className=\" float-end text-muted\" />\n                </a>\n                <a className=\"dropdown-item\" href=\"#\">\n                  Block{\" \"}\n                  <Icon icon={forbidLine} className=\" float-end text-muted\" />\n                </a>\n                <a className=\"dropdown-item\" href=\"#\">\n                  Remove{\" \"}\n                  <Icon\n                    icon={deleteBinLine}\n                    className=\" float-end text-muted\"\n                  />\n                </a>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  ));\n  return (\n    <>\n      {/* Start Contact content */}\n      <div>\n        <div className=\"p-4\">\n          <div className=\"user-chat-nav float-end\">\n            <div\n              data-bs-toggle=\"tooltip\"\n              data-bs-placement=\"bottom\"\n              title\n              data-bs-original-title=\"Add Contact\"\n            >\n              {/* Button trigger modal */}\n              <button\n                type=\"button\"\n                className=\"btn btn-link text-decoration-none text-muted font-size-18 py-0\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#addContact-exampleModal\"\n                onClick={openModal}\n              >\n                <Icon icon={userAddLine} />\n              </button>\n            </div>\n          </div>\n          <h4 className=\"mb-4\">Contacts</h4>\n          {/* Start Add contact Modal */}\n          {showModal ? <AddUserModal closeModal={closeModal} /> : false}\n          {/* End Add contact Modal */}\n          <div className=\"search-box chat-search-box\">\n            <div className=\"input-group bg-light  input-group-lg rounded-3\">\n              <div className=\"input-group-prepend\">\n                <button\n                  className=\"btn btn-link text-decoration-none text-muted pe-1 ps-3\"\n                  type=\"button\"\n                >\n                  <Icon\n                    icon={searchLine}\n                    className=\" search-icon font-size-18\"\n                  />\n                </button>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control bg-light\"\n                placeholder=\"Search users..\"\n              />\n            </div>\n          </div>\n          {/* End search-box */}\n        </div>\n        {/* end p-4 */}\n        {/* Start contact lists */}\n        <div\n          className=\"p-4 chat-message-list chat-group-list\"\n          data-simplebar=\"init\"\n        >\n          <div className=\"simplebar-wrapper\" style={{ margin: \"-24px\" }}>\n            <div className=\"simplebar-height-auto-observer-wrapper\">\n              <div className=\"simplebar-height-auto-observer\" />\n            </div>\n            <div className=\"simplebar-mask\">\n              <div\n                className=\"simplebar-offset\"\n                style={{ right: \"-20px\", bottom: \"0px\" }}\n              >\n                <div\n                  className=\"simplebar-content-wrapper\"\n                  style={{\n                    height: \"100%\",\n                    paddingRight: \"20px\",\n                    paddingBottom: \"0px\",\n                    overflow: \"hidden scroll\",\n                  }}\n                >\n                  <div\n                    className=\"simplebar-content\"\n                    style={{ padding: \"24px\" }}\n                  >\n                    {contactList}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div\n              className=\"simplebar-placeholder\"\n              style={{ width: \"auto\", height: \"1584px\" }}\n            />\n          </div>\n          <div\n            className=\"simplebar-track simplebar-horizontal\"\n            style={{ visibility: \"hidden\" }}\n          >\n            <div\n              className=\"simplebar-scrollbar\"\n              style={{\n                transform: \"translate3d(0px, 0px, 0px)\",\n                display: \"none\",\n              }}\n            />\n          </div>\n          <div\n            className=\"simplebar-track simplebar-vertical\"\n            style={{ visibility: \"visible\" }}\n          >\n            <div\n              className=\"simplebar-scrollbar\"\n              style={{\n                transform: \"translate3d(0px, 0px, 0px)\",\n                display: \"block\",\n                height: \"416px\",\n              }}\n            />\n          </div>\n        </div>\n        {/* end contact lists */}\n      </div>\n      {/* Start Contact content */}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}