{"ast":null,"code":"import _slicedToArray from\"/Users/laptop/Desktop/programming/nodechat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Icon,InlineIcon}from\"@iconify/react\";import more2Fill from\"@iconify-icons/ri/more-2-fill\";import shareLine from\"@iconify-icons/ri/share-line\";import forbidLine from\"@iconify-icons/ri/forbid-line\";import deleteBinLine from\"@iconify-icons/ri/delete-bin-line\";import searchLine from\"@iconify-icons/ri/search-line\";import userAddLine from\"@iconify-icons/ri/user-add-line\";import{useDispatch,useSelector}from\"react-redux\";import{chatData,showMessages}from\"../redux/actions/index\";import axios from\"axios\";import AddUserModal from\"./AddUserModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UsersTab(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var openModal=function openModal(){setShowModal(true);};var closeModal=function closeModal(){setShowModal(false);};var dispatch=useDispatch();var user=useSelector(function(state){return state.userData;});//   sort alphabetically\nvar contacts=user.userData.friends.sort(function(a,b){return a.friendName.localeCompare(b.friendName);});var openConversation=function openConversation(userId){axios.get(\"http://localhost:8000/chats?userId=\"+userId).then(function(response){// handle success\ndispatch(showMessages(response.data.info.messages));dispatch(chatData(response.data.info));}).catch(function(error){// handle error\nconsole.log(error);});};var contactList=contacts.map(function(res,key){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled contact-list\",children:/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return openConversation(res.friendUserId);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"font-size-14 m-0\",children:res.friendName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted dropdown-toggle\",\"data-bs-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(Icon,{icon:more2Fill})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu dropdown-menu-end\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"dropdown-item\",href:\"#\",children:[\"Share\",\" \",/*#__PURE__*/_jsx(Icon,{icon:shareLine,className:\" float-end text-muted\"})]}),/*#__PURE__*/_jsxs(\"a\",{className:\"dropdown-item\",href:\"#\",children:[\"Block\",\" \",/*#__PURE__*/_jsx(Icon,{icon:forbidLine,className:\" float-end text-muted\"})]}),/*#__PURE__*/_jsxs(\"a\",{className:\"dropdown-item\",href:\"#\",children:[\"Remove\",\" \",/*#__PURE__*/_jsx(Icon,{icon:deleteBinLine,className:\" float-end text-muted\"})]})]})]})]})})})},key);});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-chat-nav float-end\",children:/*#__PURE__*/_jsx(\"div\",{\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"bottom\",title:true,\"data-bs-original-title\":\"Add Contact\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link text-decoration-none text-muted font-size-18 py-0\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#addContact-exampleModal\",onClick:openModal,children:/*#__PURE__*/_jsx(Icon,{icon:userAddLine})})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Contacts\"}),showModal?/*#__PURE__*/_jsx(AddUserModal,{closeModal:closeModal}):false,/*#__PURE__*/_jsx(\"div\",{className:\"search-box chat-search-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group bg-light  input-group-lg rounded-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-decoration-none text-muted pe-1 ps-3\",type:\"button\",children:/*#__PURE__*/_jsx(Icon,{icon:searchLine,className:\" search-icon font-size-18\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control bg-light\",placeholder:\"Search users..\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 chat-message-list chat-group-list\",\"data-simplebar\":\"init\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"simplebar-wrapper\",style:{margin:\"-24px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-height-auto-observer-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-height-auto-observer\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-mask\",children:/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-offset\",style:{right:\"-20px\",bottom:\"0px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-content-wrapper\",style:{height:\"100%\",paddingRight:\"20px\",paddingBottom:\"0px\",overflow:\"hidden scroll\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-content\",style:{padding:\"24px\"},children:contactList})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-placeholder\",style:{width:\"auto\",height:\"1584px\"}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-track simplebar-horizontal\",style:{visibility:\"hidden\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-scrollbar\",style:{transform:\"translate3d(0px, 0px, 0px)\",display:\"none\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-track simplebar-vertical\",style:{visibility:\"visible\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"simplebar-scrollbar\",style:{transform:\"translate3d(0px, 0px, 0px)\",display:\"block\",height:\"416px\"}})})]})]})});}","map":{"version":3,"sources":["/Users/laptop/Desktop/programming/nodechat/client/src/component/UsersTab.js"],"names":["React","useState","Icon","InlineIcon","more2Fill","shareLine","forbidLine","deleteBinLine","searchLine","userAddLine","useDispatch","useSelector","chatData","showMessages","axios","AddUserModal","UsersTab","props","showModal","setShowModal","openModal","closeModal","dispatch","user","state","userData","contacts","friends","sort","a","b","friendName","localeCompare","openConversation","userId","get","then","response","data","info","messages","catch","error","console","log","contactList","map","res","key","friendUserId","margin","right","bottom","height","paddingRight","paddingBottom","overflow","padding","width","visibility","transform","display"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Icon, InlineIcon } from \"@iconify/react\";\nimport more2Fill from \"@iconify-icons/ri/more-2-fill\";\nimport shareLine from \"@iconify-icons/ri/share-line\";\nimport forbidLine from \"@iconify-icons/ri/forbid-line\";\nimport deleteBinLine from \"@iconify-icons/ri/delete-bin-line\";\nimport searchLine from \"@iconify-icons/ri/search-line\";\nimport userAddLine from \"@iconify-icons/ri/user-add-line\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { chatData, showMessages } from \"../redux/actions/index\";\nimport axios from \"axios\";\nimport AddUserModal from \"./AddUserModal\";\n\nexport default function UsersTab(props) {\n  const [showModal, setShowModal] = useState(false);\n\n  const openModal = () => {\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.userData);\n\n  //   sort alphabetically\n  const contacts = user.userData.friends.sort((a, b) =>\n    a.friendName.localeCompare(b.friendName)\n  );\n  const openConversation = (userId) => {\n    axios\n      .get(\"http://localhost:8000/chats?userId=\" + userId)\n      .then(function (response) {\n        // handle success\n        dispatch(showMessages(response.data.info.messages));\n        dispatch(chatData(response.data.info));\n      })\n      .catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n  };\n  const contactList = contacts.map((res, key) => (\n    <div key={key}>\n      {/* <div className=\"p-3 fw-bold text-primary\">A</div> */}\n      <ul className=\"list-unstyled contact-list\">\n        <li onClick={() => openConversation(res.friendUserId)}>\n          <div className=\"d-flex align-items-center\">\n            <div className=\"flex-1\">\n              <h5 className=\"font-size-14 m-0\">{res.friendName}</h5>\n            </div>\n            <div className=\"dropdown\">\n              <a\n                href=\"#\"\n                className=\"text-muted dropdown-toggle\"\n                data-bs-toggle=\"dropdown\"\n                aria-haspopup=\"true\"\n                aria-expanded=\"false\"\n              >\n                <Icon icon={more2Fill} />\n              </a>\n              <div className=\"dropdown-menu dropdown-menu-end\">\n                <a className=\"dropdown-item\" href=\"#\">\n                  Share{\" \"}\n                  <Icon icon={shareLine} className=\" float-end text-muted\" />\n                </a>\n                <a className=\"dropdown-item\" href=\"#\">\n                  Block{\" \"}\n                  <Icon icon={forbidLine} className=\" float-end text-muted\" />\n                </a>\n                <a className=\"dropdown-item\" href=\"#\">\n                  Remove{\" \"}\n                  <Icon\n                    icon={deleteBinLine}\n                    className=\" float-end text-muted\"\n                  />\n                </a>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  ));\n  return (\n    <>\n      {/* Start Contact content */}\n      <div>\n        <div className=\"p-4\">\n          <div className=\"user-chat-nav float-end\">\n            <div\n              data-bs-toggle=\"tooltip\"\n              data-bs-placement=\"bottom\"\n              title\n              data-bs-original-title=\"Add Contact\"\n            >\n              {/* Button trigger modal */}\n              <button\n                type=\"button\"\n                className=\"btn btn-link text-decoration-none text-muted font-size-18 py-0\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#addContact-exampleModal\"\n                onClick={openModal}\n              >\n                <Icon icon={userAddLine} />\n              </button>\n            </div>\n          </div>\n          <h4 className=\"mb-4\">Contacts</h4>\n          {/* Start Add contact Modal */}\n          {showModal ? <AddUserModal closeModal={closeModal} /> : false}\n          {/* End Add contact Modal */}\n          <div className=\"search-box chat-search-box\">\n            <div className=\"input-group bg-light  input-group-lg rounded-3\">\n              <div className=\"input-group-prepend\">\n                <button\n                  className=\"btn btn-link text-decoration-none text-muted pe-1 ps-3\"\n                  type=\"button\"\n                >\n                  <Icon\n                    icon={searchLine}\n                    className=\" search-icon font-size-18\"\n                  />\n                </button>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control bg-light\"\n                placeholder=\"Search users..\"\n              />\n            </div>\n          </div>\n          {/* End search-box */}\n        </div>\n        {/* end p-4 */}\n        {/* Start contact lists */}\n        <div\n          className=\"p-4 chat-message-list chat-group-list\"\n          data-simplebar=\"init\"\n        >\n          <div className=\"simplebar-wrapper\" style={{ margin: \"-24px\" }}>\n            <div className=\"simplebar-height-auto-observer-wrapper\">\n              <div className=\"simplebar-height-auto-observer\" />\n            </div>\n            <div className=\"simplebar-mask\">\n              <div\n                className=\"simplebar-offset\"\n                style={{ right: \"-20px\", bottom: \"0px\" }}\n              >\n                <div\n                  className=\"simplebar-content-wrapper\"\n                  style={{\n                    height: \"100%\",\n                    paddingRight: \"20px\",\n                    paddingBottom: \"0px\",\n                    overflow: \"hidden scroll\",\n                  }}\n                >\n                  <div\n                    className=\"simplebar-content\"\n                    style={{ padding: \"24px\" }}\n                  >\n                    {contactList}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div\n              className=\"simplebar-placeholder\"\n              style={{ width: \"auto\", height: \"1584px\" }}\n            />\n          </div>\n          <div\n            className=\"simplebar-track simplebar-horizontal\"\n            style={{ visibility: \"hidden\" }}\n          >\n            <div\n              className=\"simplebar-scrollbar\"\n              style={{\n                transform: \"translate3d(0px, 0px, 0px)\",\n                display: \"none\",\n              }}\n            />\n          </div>\n          <div\n            className=\"simplebar-track simplebar-vertical\"\n            style={{ visibility: \"visible\" }}\n          >\n            <div\n              className=\"simplebar-scrollbar\"\n              style={{\n                transform: \"translate3d(0px, 0px, 0px)\",\n                display: \"block\",\n                height: \"416px\",\n              }}\n            />\n          </div>\n        </div>\n        {/* end contact lists */}\n      </div>\n      {/* Start Contact content */}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}